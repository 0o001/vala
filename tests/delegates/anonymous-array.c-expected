/* delegates_anonymous_array.c generated by valac, the Vala compiler
 * generated from delegates_anonymous_array.vala, do not modify */

#include <glib.h>
#include <string.h>

#if !defined(VALA_EXTERN)
#if defined(_WIN32) || defined(__CYGWIN__)
#define VALA_EXTERN __declspec(dllexport) extern
#elif __GNUC__ >= 4
#define VALA_EXTERN __attribute__((visibility("default"))) extern
#else
#define VALA_EXTERN extern
#endif
#endif

typedef gint (*__delegate0_) (gint* p0, gint p0_length1, gint* p1, gint p1_length1, gpointer user_data);
#define _vala_assert(expr, msg) if G_LIKELY (expr) ; else g_assertion_message_expr (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);
#define _vala_return_if_fail(expr, msg) if G_LIKELY (expr) ; else { g_return_if_fail_warning (G_LOG_DOMAIN, G_STRFUNC, msg); return; }
#define _vala_return_val_if_fail(expr, msg, val) if G_LIKELY (expr) ; else { g_return_if_fail_warning (G_LOG_DOMAIN, G_STRFUNC, msg); return val; }
#define _vala_warn_if_fail(expr, msg) if G_LIKELY (expr) ; else g_warn_message (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);

static void _vala_main (void);
VALA_EXTERN void f (__delegate0_ abc,
        gpointer abc_target);
static gint __lambda4_ (gint* a,
                 gint a_length1,
                 gint* b,
                 gint b_length1);
static gint ___lambda4____delegate0_ (gint* p0,
                               gint p0_length1,
                               gint* p1,
                               gint p1_length1,
                               gpointer self);

static gint
__lambda4_ (gint* a,
            gint a_length1,
            gint* b,
            gint b_length1)
{
	gint r = 0;
	gint result;
	r = 0;
	{
		gint i = 0;
		i = 0;
		{
			gboolean _tmp0_ = FALSE;
			_tmp0_ = TRUE;
			while (TRUE) {
				gint _tmp2_;
				gint _tmp3_;
				if (!_tmp0_) {
					gint _tmp1_;
					_tmp1_ = i;
					i = _tmp1_ + 1;
				}
				_tmp0_ = FALSE;
				if (!(i < a_length1)) {
					break;
				}
				_tmp2_ = a[i];
				_tmp3_ = b[i];
				r += _tmp2_ * _tmp3_;
			}
		}
	}
	result = r;
	return result;
}

static gint
___lambda4____delegate0_ (gint* p0,
                          gint p0_length1,
                          gint* p1,
                          gint p1_length1,
                          gpointer self)
{
	gint result;
	result = __lambda4_ (p0, p0_length1, p1, p1_length1);
	return result;
}

static void
_vala_main (void)
{
	f (___lambda4____delegate0_, NULL);
}

int
main (int argc,
      char ** argv)
{
	_vala_main ();
	return 0;
}

void
f (__delegate0_ abc,
   gpointer abc_target)
{
	gint i[3] = {0};
	gint _tmp0_[3] = {0};
	gint j[3] = {0};
	gint _tmp1_[3] = {0};
	_tmp0_[0] = 1;
	_tmp0_[1] = 2;
	_tmp0_[2] = 3;
	memcpy (i, _tmp0_, 3 * sizeof (gint));
	_tmp1_[0] = 7;
	_tmp1_[1] = 8;
	_tmp1_[2] = 9;
	memcpy (j, _tmp1_, 3 * sizeof (gint));
	_vala_assert (abc (i, (gint) 3, j, (gint) 3, abc_target) == 50, "abc (i, j) == 50");
}

